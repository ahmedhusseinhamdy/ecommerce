import{a as A}from"./chunk-4E2S2GWR.js";import{a as T,d as F}from"./chunk-2GDJ26LE.js";import{a as W}from"./chunk-ZUOQAOXG.js";import{l as E}from"./chunk-6DVQQKJH.js";import{a as B,c as L,g as N,k as j}from"./chunk-BIBCPHZT.js";import{j as k}from"./chunk-HCIPUTK6.js";import"./chunk-MMCJCNKH.js";import{Bb as y,Cb as m,Ib as a,Jb as c,Ka as v,Lb as w,Mb as M,Na as n,Nb as O,Qb as I,Ub as V,V as d,Vb as D,Xa as x,aa as u,ab as h,ba as _,kb as g,ob as P,qb as S,rb as b,sb as o,tb as r,ub as f,xb as C}from"./chunk-4CFQG3UO.js";import"./chunk-4CLCTAJ7.js";var Y=i=>["/product-details",i],z=(i,e)=>e._id;function U(i,e){if(i&1){let t=C();o(0,"div",5)(1,"div",6)(2,"div",7),f(3,"img",8),r(),o(4,"div",7)(5,"h2",9),a(6),r(),o(7,"h1",10),a(8),r()(),o(9,"div",11)(10,"h3"),a(11),r(),o(12,"samp"),f(13,"i",12),a(14),r()()(),o(15,"div",7)(16,"button",13),y("click",function(){let s=u(t).$implicit,l=m(2);return _(l.addTocart(s._id))}),a(17,"+Add to cart"),r()()()}if(i&2){let t=e.$implicit;n(),g("routerLink",I(7,Y,t._id)),n(2),g("src",t.imageCover,v)("alt",t.title),n(3),c(t.category.name),n(2),c(t.title.split(" ").slice(0,3).join(" ")),n(3),c(t.price),n(3),c(t.ratingsAverage)}}function $(i,e){if(i&1){let t=C();o(0,"section",0)(1,"input",1),O("ngModelChange",function(s){u(t);let l=m();return M(l.searchValue,s)||(l.searchValue=s),_(s)}),r(),o(2,"div",2)(3,"h1",3),a(4," Recommend products:"),r(),o(5,"div",4),S(6,U,18,9,"div",5,z),V(8,"searchh"),r()()()}if(i&2){let t=m();n(),w("ngModel",t.searchValue),n(5),b(D(8,1,t.ProductsData,t.searchValue))}}var R=class i{searchValue="";ProductsData;ProductsSub;_ProductService=d(T);_CartService=d(E);_toastr=d(W);ngOnInit(){this.ProductsSub=this._ProductService.getAllproducts().subscribe({next:e=>{this.ProductsData=e.data},error:e=>{console.log(e)}})}ngOnDestroy(){this.ProductsSub?.unsubscribe()}addTocart(e){this._CartService.addProductCart(e).subscribe({next:t=>{console.log(t.numOfCartItems),this._CartService.cartcount.next(t.numOfCartItems),this._toastr.success(t.message,"FershCart",{closeButton:!0,timeOut:1500,progressBar:!0,progressAnimation:"decreasing",toastClass:"notifications-color",positionClass:"notifications-position"})},error:t=>{console.log(t),this._toastr.error(t.message,"FershCart")}})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=x({type:i,selectors:[["app-products"]],decls:1,vars:1,consts:[[1,"p-4","my-5"],["type","text","placeholder","search by name...",1,"p-4","mx-auto","block","rounded","w-[50%]",3,"ngModelChange","ngModel"],[1,"container","w-[90%]","mx-auto"],[1,"min-title"],[1,"grid","gap-4","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-5"],[1,"product","cursor-pointer","p-4"],[3,"routerLink"],[1,"mt-4"],[3,"src","alt"],[1,"text-main"],[1,"font-black"],[1,"m-4","flex","flex-wrap","justify-between"],[1,"rating-color","fa-solid","fa-star"],[1,"btn-main","w-3/4","mx-auto","block",3,"click"]],template:function(t,p){t&1&&h(0,$,9,4,"section",0),t&2&&P(p.ProductsData!=null?0:-1)},dependencies:[F,A,j,B,L,N,k],styles:[".product[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{opacity:0;transform:translateY(30px);transition:.3s}.product[_ngcontent-%COMP%]:hover   button[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}"]})};export{R as ProductsComponent};
