import{a as G}from"./chunk-LLII4YVT.js";import{a as A,b as p,c as V,d as H,e as L,f as S,h as Z,i as I,j as $,l as j}from"./chunk-BIBCPHZT.js";import{i as D}from"./chunk-HCIPUTK6.js";import"./chunk-MMCJCNKH.js";import{Bb as F,Cb as h,Ib as o,Jb as P,Na as l,Rb as w,V as R,Xa as N,ab as s,ca as v,da as x,kb as q,nb as C,ob as d,sb as r,tb as i,ub as g}from"./chunk-4CFQG3UO.js";import"./chunk-4CLCTAJ7.js";var y=(t,n)=>({invalid:t,valid:n});function U(t,n){if(t&1&&(r(0,"h1",2),o(1),i()),t&2){let m=h();l(),P(m.resText)}}function z(t,n){t&1&&(r(0,"li"),o(1,"Name is required"),i())}function J(t,n){t&1&&(r(0,"li"),o(1,"Minimum number of charecters is (3)"),i())}function K(t,n){t&1&&(r(0,"li"),o(1,"Maximum number of charecters is (10)"),i())}function O(t,n){if(t&1&&(r(0,"div",6),v(),r(1,"svg",14),g(2,"path",15),i(),x(),r(3,"span",16),o(4,"Danger"),i(),r(5,"div")(6,"ul",17),s(7,z,2,0,"li")(8,J,2,0,"li")(9,K,2,0,"li"),i()()()),t&2){let m,e,a,c=h();l(7),d((m=c.registerform.get("name"))!=null&&m.getError("required")?7:-1),l(),d((e=c.registerform.get("name"))!=null&&e.getError("minlength")?8:-1),l(),d((a=c.registerform.get("name"))!=null&&a.getError("maxlength")?9:-1)}}function Q(t,n){t&1&&(r(0,"li"),o(1,"Email is required"),i())}function W(t,n){t&1&&(r(0,"li"),o(1,"Email format is wrong"),i())}function X(t,n){if(t&1&&(r(0,"div",6),v(),r(1,"svg",14),g(2,"path",15),i(),x(),r(3,"span",16),o(4,"Danger"),i(),r(5,"div")(6,"ul",17),s(7,Q,2,0,"li")(8,W,2,0,"li"),i()()()),t&2){let m,e,a=h();l(7),d((m=a.registerform.get("email"))!=null&&m.getError("required")?7:-1),l(),d((e=a.registerform.get("email"))!=null&&e.getError("email")?8:-1)}}function Y(t,n){t&1&&(r(0,"li"),o(1,"Password is required"),i())}function ee(t,n){t&1&&(r(0,"li"),o(1,"The password dosen't match the pattern"),i())}function te(t,n){if(t&1&&(r(0,"div",6),v(),r(1,"svg",14),g(2,"path",15),i(),x(),r(3,"span",16),o(4,"Danger"),i(),r(5,"div")(6,"ul",17),s(7,Y,2,0,"li")(8,ee,2,0,"li"),i()()()),t&2){let m,e,a=h();l(7),d((m=a.registerform.get("password"))!=null&&m.getError("required")?7:-1),l(),d((e=a.registerform.get("password"))!=null&&e.getError("pattern")?8:-1)}}function re(t,n){t&1&&(r(0,"li"),o(1,"Doesn't match the password"),i())}function ie(t,n){if(t&1&&(r(0,"div",6),v(),r(1,"svg",14),g(2,"path",15),i(),x(),r(3,"span",16),o(4,"Danger"),i(),r(5,"div")(6,"ul",17),s(7,re,2,0,"li"),i()()()),t&2){let m=h();l(7),d(m.registerform.errors?7:-1)}}function ne(t,n){t&1&&(r(0,"li"),o(1,"phone is required"),i())}function le(t,n){t&1&&(r(0,"li"),o(1,"The phone dosen't match the pattern"),i())}function oe(t,n){if(t&1&&(r(0,"div",6),v(),r(1,"svg",14),g(2,"path",15),i(),x(),r(3,"span",16),o(4,"Danger"),i(),r(5,"div")(6,"ul",17),s(7,ne,2,0,"li")(8,le,2,0,"li"),i()()()),t&2){let m,e,a=h();l(7),d((m=a.registerform.get("phone"))!=null&&m.getError("required")?7:-1),l(),d((e=a.registerform.get("phone"))!=null&&e.getError("pattern")?8:-1)}}function ae(t,n){t&1&&(r(0,"span"),g(1,"i",18),i())}var B=class t{resText;loading=!1;_AuthService=R(G);_Router=R(D);registerform=new L({name:new S(null,[p.required,p.minLength(3),p.maxLength(10)]),email:new S(null,[p.required,p.email]),password:new S(null,[p.required,p.pattern(/^\w{6,}$/)]),rePassword:new S(null),phone:new S(null,[p.required,p.pattern(/^01[0125][0-9]{8}$/)])},this.compare);compare(n){return n.get("password")?.value===n.get("rePassword")?.value?null:{missMatch:!0}}register(){this.registerform.valid?(this.loading=!0,console.log(this.registerform.value),this._AuthService.signUp(this.registerform.value).subscribe({next:n=>{console.log(n),this.loading=!1,this._Router.navigate(["/login"])},error:n=>{console.log(n.error.message),this.resText=n.error.message,this.loading=!1}})):(this.registerform.setErrors({missMatch:!0}),this.registerform.markAllAsTouched())}static \u0275fac=function(m){return new(m||t)};static \u0275cmp=N({type:t,selectors:[["app-register"]],decls:32,vars:33,consts:[[1,"w-2/3","mx-auto","bg-slate-200","my-8","p-5","rounded-lg"],[1,"text-emerald-500","text-xl","font-bold"],[1,"bg-red-600","text-xl","text-center","text-white","rounded-xl","my-5","p-6"],[3,"ngSubmit","formGroup"],["for","default-input",1,"my-4","block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","name","type","text","id","name",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["role","alert",1,"flex","p-4","mb-4","text-sm","text-red-800","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400"],[1,"my-5"],["for","default-input",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","email","type","text","id","email",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["formControlName","password","type","password","id","password",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["formControlName","rePassword","type","password","id","rePassword",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["formControlName","phone","type","tel","id","phone",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-blue-500","focus:border-blue-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"w-full","bg-emerald-500","p-3","rounded-xl","text-white","hover:bg-emerald-600","transition-all","duration-500","disabled:bg-slate-300"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3","mt-[2px]"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"mt-1.5","list-disc","list-inside"],[1,"fa-solid","fa-circle-notch","fa-spin"]],template:function(m,e){if(m&1&&(r(0,"section",0)(1,"h1",1),o(2,"Register"),i(),s(3,U,2,1,"h1",2),r(4,"form",3),F("ngSubmit",function(){return e.register()}),r(5,"label",4),o(6,"Name"),i(),g(7,"input",5),s(8,O,10,3,"div",6),r(9,"div",7)(10,"label",8),o(11,"Email"),i(),g(12,"input",9),s(13,X,9,2,"div",6),i(),r(14,"div",7)(15,"label",8),o(16,"password"),i(),g(17,"input",10),s(18,te,9,2,"div",6),i(),r(19,"div",7)(20,"label",8),o(21,"rePassword"),i(),g(22,"input",11),s(23,ie,8,1,"div",6),i(),r(24,"div",7)(25,"label",8),o(26,"phone"),i(),g(27,"input",12),s(28,oe,9,2,"div",6),i(),r(29,"button",13),o(30," Signup "),s(31,ae,2,0,"span"),i()()()),m&2){let a,c,u,E,f,k,_,M,b,T;l(3),d(e.resText!=""?3:-1),l(),q("formGroup",e.registerform),l(3),C(w(18,y,((a=e.registerform.get("name"))==null?null:a.errors)&&((a=e.registerform.get("name"))==null?null:a.touched),((a=e.registerform.get("name"))==null?null:a.valid)&&!((a=e.registerform.get("name"))!=null&&a.pristine))),l(),d((c=e.registerform.get("name"))!=null&&c.errors&&((c=e.registerform.get("name"))!=null&&c.touched)&&e.registerform.pristine?8:-1),l(4),C(w(21,y,((u=e.registerform.get("email"))==null?null:u.errors)&&(((u=e.registerform.get("email"))==null?null:u.touched)||((u=e.registerform.get("email"))==null?null:u.dirty)),((u=e.registerform.get("email"))==null?null:u.valid)&&(((u=e.registerform.get("email"))==null?null:u.touched)||((u=e.registerform.get("email"))==null?null:u.dirty)))),l(),d((E=e.registerform.get("email"))!=null&&E.errors&&((E=e.registerform.get("email"))!=null&&E.touched)?13:-1),l(4),C(w(24,y,((f=e.registerform.get("password"))==null?null:f.errors)&&((f=e.registerform.get("password"))==null?null:f.touched),((f=e.registerform.get("password"))==null?null:f.valid)&&!((f=e.registerform.get("password"))!=null&&f.pristine))),l(),d((k=e.registerform.get("password"))!=null&&k.errors&&((k=e.registerform.get("password"))!=null&&k.touched)?18:-1),l(4),C(w(27,y,e.registerform.errors&&(((_=e.registerform.get("rePassword"))==null?null:_.touched)||((_=e.registerform.get("rePassword"))==null?null:_.dirty)),!e.registerform.errors&&(((_=e.registerform.get("rePassword"))==null?null:_.touched)||((_=e.registerform.get("rePassword"))==null?null:_.dirty)))),l(),d(e.registerform.errors&&((M=e.registerform.get("rePassword"))!=null&&M.touched)?23:-1),l(4),C(w(30,y,((b=e.registerform.get("phone"))==null?null:b.errors)&&((b=e.registerform.get("phone"))==null?null:b.touched),((b=e.registerform.get("phone"))==null?null:b.valid)&&!((b=e.registerform.get("phone"))!=null&&b.pristine))),l(),d((T=e.registerform.get("phone"))!=null&&T.errors&&((T=e.registerform.get("phone"))!=null&&T.touched)?28:-1),l(3),d(e.loading?31:-1)}},dependencies:[j,Z,A,V,H,I,$],encapsulation:2})};export{B as RegisterComponent};
